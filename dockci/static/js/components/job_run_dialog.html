<form data-bind="submit: queueJob">
  <div data-bind="modal: {
      visible: visible,
      dialogCss: 'modal-lg',
      header: { data: { label: title } },
      body: { name: 'job-run-dialog-body', data: {
            project: project
          , commitRef: commitRef
          , messages: messages
      }},
      footer: { name: 'job-run-dialog-footer', data: {
            saving: saving
      }}
  }"></div>
</form>
<script type="text/html" id="job-run-dialog-body">
  <ul class="list-group" data-bind="foreach:messages">
      <li class="list-group-item" data-bind="text:message_display, css:category_css"></li>
  </ul>
  <div class="form-horizontal">
    <div class="form-group">
      <label class="col-sm-2 control-label">Git Repository</label>
      <div class="col-sm-10">
        <p class="form-control-static" data-bind="text: project().display_repo"></p>
      </div>
    </div>
    <div class="form-group">
      <label for="inputCommit" class="col-sm-2 control-label">Commit reference</label>
      <div class="col-sm-10">
        <input class="form-control" id="inputCommit" name="commit" placeholder="Git Reference" data-bind="value: commitRef">
      </div>
    </div>
  </div>
</script>
<script type="text/html" id="job-run-dialog-footer">
  <button type="submit" class="btn btn-success" data-bind="disable: saving">
    <span data-bind="visible: !saving()">Queue</span>
    <span data-bind="visible: saving"><i class="glyphicon glyphicon-refresh spin"></i></span>
  </button>
  <a href="#" class="btn btn-default" data-dismiss="modal">Cancel</a>
</script>
