<div class="stage-panel panel" data-bind="
  css: {
      'panel-success': success() === true
    , 'panel-danger': success() === false
    , 'panel-info': util.isEmpty(success())
  }
">
  <div class="panel-heading">
    <a href="#" data-bind="click:togglePanel">
      <span data-bind="text:slug"></span>
      <span class="panel-contract-marker glyphicon glyphicon-chevron-down" data-bind="visible:!visible()"></span>
      <span class="panel-contract-marker glyphicon glyphicon-chevron-up" data-bind="visible:visible"></span>
    </a>
  </div>
  <!-- ko if: visible -->
  <div class="panel-body stage-log">
    <table data-bind="css: { table: slug() === 'docker_build' }">
      <tbody data-bind="foreach:lines"><tr>
        <!-- ko if: typeof($data) === 'string' -->
          <td class="stage-line-text" data-bind="html:ansi_up.ansi_to_html(_.escape($data) || '&nbsp;')"></td>
        <!-- /ko -->
        <!-- ko if: typeof($data) !== 'string' --><td>
          <!-- ko component: {
              name: $data['component']
            , params: $data['params']
          } --><!-- /ko -->
        </td><!-- /ko -->
      </tr></tbody>
    </table>
  </div>
  <!-- /ko -->
</div>
